<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Finance Planner Pro</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                    <circle cx="16" cy="16" r="14" fill="url(#gradient)"/>
                    <path d="M16 8v16M12 12l4-4 4 4M12 20l4 4 4-4" stroke="white" stroke-width="2" stroke-linecap="round"/>
                    <defs>
                        <linearGradient id="gradient" x1="0" y1="0" x2="32" y2="32">
                            <stop offset="0%" stop-color="#667eea"/>
                            <stop offset="100%" stop-color="#764ba2"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>Finance Planner Pro</h1>
            </div>
            <button class="settings-btn" id="settingsBtn">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"/>
                </svg>
            </button>
        </header>

        <!-- Navigation Tabs -->
        <nav class="nav-tabs">
            <button class="tab-btn active" data-tab="dashboard">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <rect x="3" y="3" width="7" height="7" stroke-width="2"/>
                    <rect x="14" y="3" width="7" height="7" stroke-width="2"/>
                    <rect x="14" y="14" width="7" height="7" stroke-width="2"/>
                    <rect x="3" y="14" width="7" height="7" stroke-width="2"/>
                </svg>
                Dashboard
            </button>
            <button class="tab-btn" data-tab="expenses">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6" stroke-width="2"/>
                </svg>
                Expenses
            </button>
            <button class="tab-btn" data-tab="analytics">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 3v18h18" stroke-width="2"/>
                    <path d="M18 17l-5-5-3 3-4-4" stroke-width="2"/>
                </svg>
                Analytics
            </button>
            <button class="tab-btn ai-tab" data-tab="ai">
                <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5" stroke-width="2"/>
                </svg>
                AI Assistant
            </button>
        </nav>

        <!-- Tab Contents -->
        <main class="content">
            <!-- Dashboard Tab -->
            <div class="tab-content active" id="dashboard">
                <div class="earnings-card">
                    <div class="card-header">
                        <h2>Monthly Earnings</h2>
                        <button class="edit-btn" id="editEarningsBtn">Edit</button>
                    </div>
                    <div class="earnings-amount" id="earningsDisplay">$0</div>
                    <div class="earnings-input hidden" id="earningsInput">
                        <input type="number" id="earningsValue" placeholder="Enter monthly earnings">
                        <button class="save-btn" id="saveEarningsBtn">Save</button>
                    </div>
                </div>

                <div class="summary-cards">
                    <div class="summary-card income">
                        <div class="card-icon">ðŸ’°</div>
                        <div class="card-info">
                            <span class="card-label">Total Income</span>
                            <span class="card-value" id="totalIncome">$0</span>
                        </div>
                    </div>
                    <div class="summary-card expense">
                        <div class="card-icon">ðŸ’³</div>
                        <div class="card-info">
                            <span class="card-label">Total Expenses</span>
                            <span class="card-value" id="totalExpenses">$0</span>
                        </div>
                    </div>
                    <div class="summary-card balance">
                        <div class="card-icon">ðŸ’µ</div>
                        <div class="card-info">
                            <span class="card-label">Balance</span>
                            <span class="card-value" id="balance">$0</span>
                        </div>
                    </div>
                </div>

                <div class="quick-overview">
                    <h3>Expense Breakdown</h3>
                    <div class="expense-bars">
                        <div class="expense-bar-item">
                            <span class="bar-label">Basic Expenses</span>
                            <div class="bar-container">
                                <div class="bar basic" id="basicBar" style="width: 0%"></div>
                            </div>
                            <span class="bar-value" id="basicValue">$0</span>
                        </div>
                        <div class="expense-bar-item">
                            <span class="bar-label">Luxury Expenses</span>
                            <div class="bar-container">
                                <div class="bar luxury" id="luxuryBar" style="width: 0%"></div>
                            </div>
                            <span class="bar-value" id="luxuryValue">$0</span>
                        </div>
                        <div class="expense-bar-item">
                            <span class="bar-label">Monthly Goals</span>
                            <div class="bar-container">
                                <div class="bar goals" id="goalsBar" style="width: 0%"></div>
                            </div>
                            <span class="bar-value" id="goalsValue">$0</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Expenses Tab -->
            <div class="tab-content" id="expenses">
                <div class="expense-section">
                    <h3>Basic Expenses</h3>
                    <div class="expense-list" id="basicExpensesList">
                        <div class="expense-item">
                            <span>Rent</span>
                            <input type="number" class="expense-input" data-expense="rent" placeholder="0">
                        </div>
                        <div class="expense-item">
                            <span>WiFi</span>
                            <input type="number" class="expense-input" data-expense="wifi" placeholder="0">
                        </div>
                        <div class="expense-item">
                            <span>Water</span>
                            <input type="number" class="expense-input" data-expense="water" placeholder="0">
                        </div>
                        <div class="expense-item">
                            <span>Electricity</span>
                            <input type="number" class="expense-input" data-expense="electricity" placeholder="0">
                        </div>
                    </div>
                </div>

                <div class="expense-section">
                    <div class="section-header">
                        <h3>Luxury Expenses</h3>
                        <button class="add-btn" id="addLuxuryBtn">+ Add</button>
                    </div>
                    <div class="expense-list" id="luxuryExpensesList"></div>
                </div>

                <div class="expense-section">
                    <div class="section-header">
                        <h3>Monthly Goals</h3>
                        <button class="add-btn" id="addGoalBtn">+ Add Goal</button>
                    </div>
                    <div class="expense-list" id="monthlyGoalsList"></div>
                </div>

                <button class="save-all-btn" id="saveExpensesBtn">Save All Expenses</button>
            </div>

            <!-- Analytics Tab -->
            <div class="tab-content" id="analytics">
                <div class="analytics-controls">
                    <select id="chartPeriod" class="period-select">
                        <option value="daily">Daily</option>
                        <option value="weekly">Weekly</option>
                        <option value="monthly" selected>Monthly</option>
                        <option value="annual">Annual</option>
                    </select>
                </div>
                <div class="chart-container">
                    <canvas id="expenseChart"></canvas>
                </div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ“Š</div>
                        <div class="stat-info">
                            <span class="stat-label">Average Daily</span>
                            <span class="stat-value" id="avgDaily">$0</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ“ˆ</div>
                        <div class="stat-info">
                            <span class="stat-label">Highest Expense</span>
                            <span class="stat-value" id="highestExpense">$0</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸ’¡</div>
                        <div class="stat-info">
                            <span class="stat-label">Savings Rate</span>
                            <span class="stat-value" id="savingsRate">0%</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">ðŸŽ¯</div>
                        <div class="stat-info">
                            <span class="stat-label">Budget Status</span>
                            <span class="stat-value" id="budgetStatus">On Track</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- AI Assistant Tab -->
            <div class="tab-content" id="ai">
                <div class="ai-header">
                    <div class="ai-avatar">ðŸ¤–</div>
                    <div class="ai-title">
                        <h3>AI Finance Assistant</h3>
                        <p>Get smart financial advice and planning help</p>
                    </div>
                </div>
                
                <div class="ai-chat" id="aiChat">
                    <div class="ai-message assistant">
                        <div class="message-bubble">
                            Hello! I'm your AI Finance Assistant. I can help you analyze your budget, suggest savings strategies, and ensure your monthly goals align with your earnings. How can I help you today?
                        </div>
                    </div>
                </div>

                <div class="ai-input-container">
                    <textarea id="aiInput" placeholder="Ask me anything about your finances..." rows="2"></textarea>
                    <button class="ai-send-btn" id="aiSendBtn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                    </button>
                </div>

                <div class="ai-suggestions">
                    <button class="suggestion-chip">Analyze my budget</button>
                    <button class="suggestion-chip">Suggest savings plan</button>
                    <button class="suggestion-chip">Review monthly goals</button>
                </div>
            </div>
        </main>

        <!-- Settings Modal -->
        <div class="modal hidden" id="settingsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Settings</h2>
                    <button class="close-btn" id="closeSettingsBtn">Ã—</button>
                </div>
                <div class="modal-body">
                    <div class="setting-item">
                        <label for="apiKeyInput">Groq API Key (Optional)</label>
                        <input type="password" id="apiKeyInput" placeholder="Enter your Groq API key">
                        <small>Leave blank to use built-in free tier</small>
                    </div>
                    <div class="setting-item">
                        <label for="currencySelect">Currency</label>
                        <select id="currencySelect">
                            <option value="$">USD ($)</option>
                            <option value="â‚¬">EUR (â‚¬)</option>
                            <option value="Â£">GBP (Â£)</option>
                            <option value="Â¥">JPY (Â¥)</option>
                            <option value="KSh">KES (KSh)</option>
                        </select>
                    </div>
                    <div class="setting-item">
                        <label>
                            <input type="checkbox" id="notificationsToggle">
                            Enable budget alerts
                        </label>
                    </div>
                    <div class="setting-item">
                        <button class="danger-btn" id="resetDataBtn">Reset All Data</button>
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="save-settings-btn" id="saveSettingsBtn">Save Settings</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/api-key-manager.js"></script>
    <script src="js/storage.js"></script>
    <script src="js/ai-assistant.js"></script>
    <script src="js/analytics.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
